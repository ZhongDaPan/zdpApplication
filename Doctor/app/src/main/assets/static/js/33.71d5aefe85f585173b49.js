webpackJsonp([33],{Uw95:function(n,e,t){var i=t("rzX6");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);t("FIqI")("4ced960a",i,!0,{})},lgXj:function(n,e,t){"use strict";function i(n){t("Uw95")}Object.defineProperty(e,"__esModule",{value:!0});var a=t("pKZN"),s=(a.a,{components:{back:a.a},data:function(){return{id:this.$route.query.id,ListDetails:[],Diagnoses:null,user:this.$store.state.userInfo,showConfirm:!1,popIdx:null,timer:null}},created:function(){var n=this;this.timer=setInterval(function(){n.$bridge.registerhandler("confirmBack",function(e,t){t("cantBack"),n.$refs.back.back()})},50);var e=this.$store.state.pullFlag;if(this.id&&!e)this.$post("Prescription/Prescription/GetPrescriptionOftenUsed",{Id:this.id}).then(function(e){n.$store.dispatch("pushpullFlag",1),n.Diagnoses=e.Diagnoses,n.ListDetails=e.ListDetails});else{var t=this.$store.state,i=t.upList,a=t.Diagnoses;t.saveFlag;this.ListDetails=i,this.Diagnoses=a}},beforeDestroy:function(){clearInterval(this.timer),this.$store.dispatch("pushupList",this.ListDetails),this.$store.dispatch("pushDiagnoses",this.Diagnoses)},methods:{pop:function(n){this.showConfirm=!0,this.popIdx=n},modify:function(n){this.$store.dispatch("pushcMed",this.ListDetails[n]),this.$router.push("/modifyCon?idx="+n+"&&back=-1")},toUm:function(){this.$store.dispatch("pushisUp",0),this.$router.push("/pharmacy?from=up")},save:function(){var n=this;if(this.$store.dispatch("pushpullFlag",0),!this.ListDetails.length)return this.$toast("请添加药品");if(!this.Diagnoses)return this.$toast("请填写临床诊断");if(!this.ListDetails)return this.$toast("请选择药品");var e=[];this.ListDetails.forEach(function(n){var t={};t.MedicationId=n.Id,t.UsageTimeId=n.UsageTimeId,t.UsageTime=n.UsageTime,t.UsageMethodId=n.UsageMethodId,t.UsageMethod=n.UsageMethod,t.PackageUnitId=n.PackageUnitId,t.PackageUnit=n.PackageUnit,t.DayDosageId=n.DayDosageId,t.DayDosage=n.DayDosage,t.Dosage=n.Dosage,t.DosageUnitId=n.DosageUnitId,t.DosageUnit=n.DosageUnit,t.Quantity=n.Quantity,t.Remark=n.Remark,t.DosageDaysId=n.DosageDaysId,t.DosageDays=n.DosageDays,e.push(t)}),this.$post("Prescription/Prescription/SavePrescriptionOftenUsed",this.$pick({id:this.$route.query.id,DoctorId:this.user.Data.User.DoctorId,OrgId:this.user.Data.User.OrgId,Diagnoses:this.Diagnoses,ListDetails:e})).then(function(e){n.ListDetails=null,n.Diagnoses="",n.$store.dispatch("pushisUp",1),n.$router.back()})},confirm:function(){this.ListDetails.splice(this.popIdx,1)}}}),o=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"pdt"},[t("div",{staticClass:"title"},[t("back",{ref:"back",attrs:{tip:!0}}),n._v(" "),t("span",{staticClass:"name"},[n._v("常用处方详情")]),n._v(" "),t("span",{staticClass:"save",on:{click:n.save}},[n._v("保存")])],1),n._v(" "),t("div",{staticClass:"diagnosis"},[t("p",[n._v("临床诊断")]),n._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:n.Diagnoses,expression:"Diagnoses"}],class:{main:!n.Diagnoses},attrs:{type:"text",placeholder:"请输入临床诊断"},domProps:{value:n.Diagnoses},on:{input:function(e){e.target.composing||(n.Diagnoses=e.target.value)}}})]),n._v(" "),t("div",{staticClass:"prescription"},[t("h2",[n._v("RP")]),n._v(" "),n._l(n.ListDetails,function(e,i){return t("div",{key:i,staticClass:"med"},[t("p",[t("span",[n._v(n._s(e.Name)+" "+n._s(e.Specification))]),n._v(" "),t("span",[n._v("x"+n._s(e.Quantity))])]),n._v(" "),t("p",{staticClass:"gray"},[n._v("\n                用法："+n._s(e.DayDosage)+"，\n                一次"+n._s(0==e.Dosage?"":e.Dosage)+n._s(e.DosageUnit)+"，\n                "+n._s(e.UsageTime)+n._s(e.UsageMethod)+"\n                 "),e.DosageDays?t("span",[n._v("用药"+n._s(e.DosageDays))]):n._e(),n._v("\n                "+n._s(e.Remark)+"\n            ")]),n._v(" "),t("div",{staticClass:"operate"},[t("span",{on:{click:function(e){n.modify(i)}}},[n._v("修改用量")]),n._v(" "),t("span",{on:{click:function(e){n.pop(i)}}},[n._v("删除")])])])}),n._v(" "),n.ListDetails.length<5?t("div",{staticClass:"btn",on:{click:n.toUm}},[n._v("添加药品")]):n._e()],2),n._v(" "),t("confirm",{on:{"on-cancel":function(e){n.showConfirm=!1},"on-confirm":n.confirm},model:{value:n.showConfirm,callback:function(e){n.showConfirm=e},expression:"showConfirm"}},[n._v("确定删除该药品吗？")])],1)},r=[],A={render:o,staticRenderFns:r},d=A,c=t("vSla"),p=i,f=c(s,d,!1,p,"data-v-6f64bbfa",null);e.default=f.exports},rzX6:function(n,e,t){var i=t("L4zZ");e=n.exports=t("UTlt")(!0),e.push([n.i,"\n.title[data-v-6f64bbfa] {\n  background: #fff;\n  height: 1.2rem;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n}\n.title i[data-v-6f64bbfa] {\n    display: block;\n    height: 0.46667rem;\n    width: 0.26667rem;\n    background: url("+i(t("P9/e"))+") no-repeat center;\n    background-size: cover;\n}\n.title .name[data-v-6f64bbfa] {\n    font-size: 17px;\n}\n.diagnosis[data-v-6f64bbfa] {\n  background: #fff;\n  padding: 0.4rem;\n  margin: 0.26667rem 0;\n}\n.diagnosis p[data-v-6f64bbfa] {\n    height: 0.66667rem;\n    line-height: 0.66667rem;\n    font-size: 15px;\n    color: #656565;\n    text-align: center;\n}\n.diagnosis input[data-v-6f64bbfa] {\n    height: 0.8rem;\n    background: #f4f4f4;\n    width: 100%;\n    border-radius: 20px;\n    padding: 0 0.4rem;\n    margin: 0.26667rem 0;\n}\n.diagnosis .main[data-v-6f64bbfa] {\n    border: 1px solid red;\n}\n.prescription[data-v-6f64bbfa] {\n  background: #fff;\n  padding: 0.4rem;\n}\n.prescription h2[data-v-6f64bbfa] {\n    font-weight: bold;\n}\n.prescription .med[data-v-6f64bbfa] {\n    padding: 0.26667rem 0;\n}\n.prescription .med p[data-v-6f64bbfa] {\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: flex;\n      -webkit-box-pack: justify;\n      -webkit-justify-content: space-between;\n              justify-content: space-between;\n      padding: 0.13333rem 0;\n}\n.prescription .operate[data-v-6f64bbfa] {\n    padding: 0.26667rem 0 0;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n}\n.prescription .operate span[data-v-6f64bbfa] {\n      display: block;\n      width: 2.13333rem;\n      height: 0.86667rem;\n      line-height: 0.86667rem;\n      border: 1px solid #2a6dc9;\n      color: #2a6dc9;\n      text-align: center;\n      border-radius: 20px;\n      margin-right: 0.26667rem;\n}\n.prescription .gray[data-v-6f64bbfa] {\n    color: #626262;\n}\n.prescription .btn[data-v-6f64bbfa] {\n    width: 90%;\n    height: 1.2rem;\n    line-height: 1.2rem;\n    text-align: center;\n    color: #fff;\n    background: #2a6dc9;\n    margin: auto;\n    border-radius: 30px;\n    margin-top: 0.93333rem;\n}\n","",{version:3,sources:["D:/yys/src/style/page/usu-detail.scss"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,eAAe;EACf,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,0BAA0B;EAC1B,uCAAuC;UAC/B,+BAA+B;EACvC,0BAA0B;EAC1B,4BAA4B;UACpB,oBAAoB;CAC7B;AACD;IACI,eAAe;IACf,mBAAmB;IACnB,kBAAkB;IAClB,2DAAqD;IACrD,uBAAuB;CAC1B;AACD;IACI,gBAAgB;CACnB;AACD;EACE,iBAAiB;EACjB,gBAAgB;EAChB,qBAAqB;CACtB;AACD;IACI,mBAAmB;IACnB,wBAAwB;IACxB,gBAAgB;IAChB,eAAe;IACf,mBAAmB;CACtB;AACD;IACI,eAAe;IACf,oBAAoB;IACpB,YAAY;IACZ,oBAAoB;IACpB,kBAAkB;IAClB,qBAAqB;CACxB;AACD;IACI,sBAAsB;CACzB;AACD;EACE,iBAAiB;EACjB,gBAAgB;CACjB;AACD;IACI,kBAAkB;CACrB;AACD;IACI,sBAAsB;CACzB;AACD;MACM,qBAAqB;MACrB,sBAAsB;MACtB,cAAc;MACd,0BAA0B;MAC1B,uCAAuC;cAC/B,+BAA+B;MACvC,sBAAsB;CAC3B;AACD;IACI,wBAAwB;IACxB,qBAAqB;IACrB,sBAAsB;IACtB,cAAc;CACjB;AACD;MACM,eAAe;MACf,kBAAkB;MAClB,mBAAmB;MACnB,wBAAwB;MACxB,0BAA0B;MAC1B,eAAe;MACf,mBAAmB;MACnB,oBAAoB;MACpB,yBAAyB;CAC9B;AACD;IACI,eAAe;CAClB;AACD;IACI,WAAW;IACX,eAAe;IACf,oBAAoB;IACpB,mBAAmB;IACnB,YAAY;IACZ,oBAAoB;IACpB,aAAa;IACb,oBAAoB;IACpB,uBAAuB;CAC1B",file:"usu-detail.scss",sourcesContent:['\n.title[data-v-6f64bbfa] {\n  background: #fff;\n  height: 1.2rem;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n}\n.title i[data-v-6f64bbfa] {\n    display: block;\n    height: 0.46667rem;\n    width: 0.26667rem;\n    background: url("~assets/back.png") no-repeat center;\n    background-size: cover;\n}\n.title .name[data-v-6f64bbfa] {\n    font-size: 17px;\n}\n.diagnosis[data-v-6f64bbfa] {\n  background: #fff;\n  padding: 0.4rem;\n  margin: 0.26667rem 0;\n}\n.diagnosis p[data-v-6f64bbfa] {\n    height: 0.66667rem;\n    line-height: 0.66667rem;\n    font-size: 15px;\n    color: #656565;\n    text-align: center;\n}\n.diagnosis input[data-v-6f64bbfa] {\n    height: 0.8rem;\n    background: #f4f4f4;\n    width: 100%;\n    border-radius: 20px;\n    padding: 0 0.4rem;\n    margin: 0.26667rem 0;\n}\n.diagnosis .main[data-v-6f64bbfa] {\n    border: 1px solid red;\n}\n.prescription[data-v-6f64bbfa] {\n  background: #fff;\n  padding: 0.4rem;\n}\n.prescription h2[data-v-6f64bbfa] {\n    font-weight: bold;\n}\n.prescription .med[data-v-6f64bbfa] {\n    padding: 0.26667rem 0;\n}\n.prescription .med p[data-v-6f64bbfa] {\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: flex;\n      -webkit-box-pack: justify;\n      -webkit-justify-content: space-between;\n              justify-content: space-between;\n      padding: 0.13333rem 0;\n}\n.prescription .operate[data-v-6f64bbfa] {\n    padding: 0.26667rem 0 0;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n}\n.prescription .operate span[data-v-6f64bbfa] {\n      display: block;\n      width: 2.13333rem;\n      height: 0.86667rem;\n      line-height: 0.86667rem;\n      border: 1px solid #2a6dc9;\n      color: #2a6dc9;\n      text-align: center;\n      border-radius: 20px;\n      margin-right: 0.26667rem;\n}\n.prescription .gray[data-v-6f64bbfa] {\n    color: #626262;\n}\n.prescription .btn[data-v-6f64bbfa] {\n    width: 90%;\n    height: 1.2rem;\n    line-height: 1.2rem;\n    text-align: center;\n    color: #fff;\n    background: #2a6dc9;\n    margin: auto;\n    border-radius: 30px;\n    margin-top: 0.93333rem;\n}\n'],sourceRoot:""}])}});
//# sourceMappingURL=33.71d5aefe85f585173b49.js.map